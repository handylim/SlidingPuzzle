<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sliding Puzzle</title>
    <link rel="stylesheet" type="text/css" href="http://www.w3schools.com/lib/w3.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="main.css" />
	<meta charset="utf-8" />
</head>

<body>
    <header id="header" style="background-color: #373277" class="w3-container">
        <div style="display: inline-block; margin-left: 10%">
            <img src="Assets/logo.png" style="margin: 5px"/>
        </div>
        
        <div id="login" class="w3-dropdown-hover">
            <span style="font-size: 20px; color: #ffffff">Login</span>
            <div id="form" class="w3-dropdown-content w3-card-4 w3-border" style="width: 300px">
                <form id="loginForm" class="w3-form" method="POST" action="<?php echo htmlspecialchars ($_SERVER['PHP_SELF']); ?>">
                    <center>
						<h4 id="loginHeader">Login</h4>
					</center>

                    <input id="emailField" name="email" class="w3-input" type="email" placeholder="Email" required />
                    <input id="passwordField" name="password" class="w3-input" type="password" placeholder="Password" required />
                    <div id="reEnterPassword"></div>
                    <span id="errorForm" style="color: #ff0000"></span>
                    <center id="submitPart">
                        <input id="btn_Submit" class="w3-btn w3-round-large w3-blue" type="submit" value="Login">
                    </center>
                </form>
                    
                <center id="message" style="margin-top: 15px; margin-bottom: 15px">
                    Don't have account?<br />
                    <button class="buttonLink" onclick="SignUp()">Sign Up</button>
                </center>
            </div>
        </div>
    </header>
    
    <div id="content" style="width: 100%; height: 100%">
        <center id="centeredBackground">
            <div class="backgroundMode">
                <div style="font-size: 40px; margin-bottom: 20px"><b>CHOOSE YOUR MODE</b></div>
                <div onclick="createBox(3)" class="mode" style="background-image: url('Assets/easy.png')"></div>
                <div onclick="createBox(4)" class="mode" style="background-image: url('Assets/medium.png')"></div>
                <div onclick="createBox(5)" class="mode" style="background-image: url('Assets/hard.png')"></div>
            </div>
        </center>
        
        <div id="mainBox" style="display: block; margin: 30px"></div>
        
        <div id="sideBar">
            <center>
                <div id="timer" style="font-size: 30px"></div>
            </center>
            <div id="menu">
            </div>
        </div>
        
        <center>
            <div id="errorMessage"></div>
        </center>
	</div>
    
	<footer>
        <table style="width: 100%; color: #ffffff">
            <tr>
                <td id="contact">
                    <center style="margin-bottom: 10px">
                        <a href="https://github.com/handylim/SlidingPuzzle" target="_blank">
                            <img id="gitHubLogo" src="Assets/github logo.png"/><br />Give contribution
                        </a>
                    </center>
                    <i class="material-icons iconMargin" style="font-size: 18px">phone</i><span style="font-size: 16px">+62 822 7626 4869</span><br />
                    <i class="material-icons iconMargin" style="font-size: 18px">email</i><span style="font-size: 16px">handy_257@outlook.com</span><br />
                    <a href="https://www.facebook.com/hanz.li.5" target="_blank"><img src="Assets/facebook logo.png" width="20" height="20" class="iconMargin"/>Handy Lim</a>
                </td>
                <td style="width: 40%"></td>
                <td id="poweredByAzure"><p style="text-align: right"><img style="margin-bottom: 5px" src="Assets/azure logo.png" width="300" height="50"/><br />
                Copyright &copy; Handy 2016.<br />
                All Rights Reserved.</p></td>
            </tr>
        </table>
	</footer>
    
    <script src="main.js"></script>
	<script>
		function SignUp() {
			document.getElementById("loginHeader").innerHTML = "Sign Up";
			document.getElementById("reEnterPassword").innerHTML = "<input id='reEnterPasswordField' name='reEnterPasswordInput' onblur='document.getElementById('errorMessage').innerHTML = ''' oninput='CheckPassword()' class='w3-input' type='password' placeholder='Re-enter password' required />";
			document.getElementById("emailField").value = "";
			document.getElementById("passwordField").value = "";
			document.getElementById("errorMessage").innerHTML = "";
			document.getElementById("submitPart").innerHTML = "<input id='btn_Submit' class='w3-btn w3-round-large w3-green' type='submit' value='Sign Up'>";
			document.getElementById("message").innerHTML = "Have an account?<br /><button class='buttonLink' onclick='SignIn()'>Sign In</button>";
			document.getElementById("loginForm").setAttribute("action", "Sign Up.php");
		}

		function SignIn() {
			document.getElementById("loginHeader").innerHTML = "Login";
			document.getElementById("emailField").value="";
			document.getElementById("passwordField").value="";
			document.getElementById("reEnterPassword").innerHTML = "";
			document.getElementById("errorMessage").innerHTML = "";
			document.getElementById("submitPart").innerHTML = "<input id='btn_Submit' class='w3-btn w3-round-large w3-blue' type='submit' value='Sign In'>";
			document.getElementById("message").innerHTML = "Don't have account?<br /><button class='buttonLink' onclick='SignUp()'>Sign Up</button>";
			document.getElementById("loginForm").setAttribute("action",'<?php echo htmlspecialchars ($_SERVER["PHP_SELF"]); ?>');
		}
		
		function CheckPassword() {
			if(document.getElementById("passwordField").value != document.getElementById("reEnterPasswordField").value){
				document.getElementById("errorMessage").innerHTML = "Password does not match";
				document.getElementById("btn_Submit").setAttribute("disabled","disabled");
			}
			else{
				document.getElementById("errorMessage").innerHTML = "";
				document.getElementById("btn_Submit").removeAttribute("disabled");
			}
		}

		function logOut() {
			document.getElementById("loginHeader").innerHTML="Login";
			document.getElementById("headerEmail").innerHTML="";
			document.getElementById("form").innerHTML="<form id='loginForm' class='w3-form' method='POST' action='<?php echo htmlspecialchars ($_SERVER['PHP_SELF']); ?>'><p><input id='emailField' name='email' onfocus='document.getElementById('errorMessage').innerHTML = ''' class='w3-input' type='email' placeholder='Email' required /></p><p><input id='passwordField' name='password' class='w3-input' type='password' placeholder='Password' required /></p><div id='reEnterPassword'></div><span id='errorMessage' style='color: #ff0000'><?php if($error!=NULL) echo $error;?></span><center id='submitPart'><input id='btn_Submit' class='w3-btn w3-round-large w3-blue' type='submit' value='Sign In'></center></form><center id='message'>Don't have account?<br /><button class='buttonLink' onclick='SignUp()'>Sign Up</button></center>";
		}
	</script>
</body>
</html>
